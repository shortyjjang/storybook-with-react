"use strict";(self.webpackChunkpos_with_storybook=self.webpackChunkpos_with_storybook||[]).push([[415],{"./src/components/Pagable/Pagable.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Example:()=>Example,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Pagable_stories});var react=__webpack_require__("./node_modules/react/index.js");let icon_arrow_l_namespaceObject="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAbCAYAAACjkdXHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNqclK0KAkEURtdBg8Xka5gNNoPBvyRsUASjdrvduKBRUAyKSdRgsIjB7GuYLAZB/C7Mhcui7p0ZOAzL7Dmws8OkomgSOI4yGIFG2kPcgSzNxlN8gbHxFFtgq5FLQnyDDom0kCQXwUGIXbDmRZMgHkFOiEv5gvEVf8lSpNH7Jn6TC3ZzWByA+a/vMjHxBPJCnP7bTeMrsuwlsrwS4l4rshyCu32ugb6LfLNnlwMTbYA3zCsgf5VzIH5IKFAHDxHoamUaV1ARgRloa+V4wNgj2tbKqkDSZUCBKniKQKiVaVzsJnJgAZpaObBnnwMZsKGAy9UbDwxdZBk40/wRYABbfkbPE+V3dAAAAABJRU5ErkJggg==";var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function Pagable(_ref){let{scrollAlign="vertical",width:W,height:H,children,touchable=!1,rowsPerPage=-1,offset=[0,0],className="",callback}=_ref,scrollRef=(0,react.useRef)(null),childrenRef=(0,react.useRef)(null),[touchStart,setTouchStart]=(0,react.useState)(null),[touchEnd,setTouchEnd]=(0,react.useState)(null),[width,setWidth]=(0,react.useState)(0),[height,setHeight]=(0,react.useState)(0),[isNextable,setIsNextable]=(0,react.useState)(!1),[isPrevable,setIsPrevable]=(0,react.useState)(!1),[curentTop,setCurrentTop]=(0,react.useState)(0),movePage=align=>{if(!scrollRef.current||!childrenRef.current)return;let pageSize="vertical"===scrollAlign?height:width,currentPosition=touchable?curentTop:"vertical"===scrollAlign?scrollRef.current.scrollTop:scrollRef.current.scrollLeft,nextPosition="prev"===align?currentPosition-pageSize:currentPosition+pageSize;if(setIsPrevable(nextPosition>0),setIsNextable(nextPosition<("vertical"===scrollAlign?childrenRef.current.clientHeight:childrenRef.current.clientWidth)-("vertical"===scrollAlign?height:width)),!(nextPosition<("vertical"===scrollAlign?childrenRef.current.clientHeight:childrenRef.current.clientWidth)-("vertical"===scrollAlign?height:width))&&callback&&callback(),"prev"===align&&nextPosition<0&&(nextPosition=0),"next"===align&&nextPosition>("vertical"===scrollAlign?childrenRef.current.clientHeight:childrenRef.current.clientWidth)-("vertical"===scrollAlign?height:width)&&(nextPosition=("vertical"===scrollAlign?childrenRef.current.clientHeight:childrenRef.current.clientWidth)-("vertical"===scrollAlign?height:width)),touchable){setCurrentTop(nextPosition);return}scrollRef.current.scrollTo({top:"vertical"===scrollAlign?nextPosition:0,left:"vertical"===scrollAlign?nextPosition:0})},[px,setPx]=(0,react.useState)(1);return((0,react.useEffect)(()=>{var _scrollRef$current,_scrollRef$current2,_childrenRef$current,_childrenRef$current2;setPx(window.innerWidth/960),scrollRef.current&&childrenRef.current&&(setWidth(W-("vertical"===scrollAlign?30:60)*px),setHeight(H),setIsNextable(("vertical"===scrollAlign?null===(_scrollRef$current=scrollRef.current)||void 0===_scrollRef$current?void 0:_scrollRef$current.clientHeight:null===(_scrollRef$current2=scrollRef.current)||void 0===_scrollRef$current2?void 0:_scrollRef$current2.clientWidth)<("vertical"===scrollAlign?(null==childrenRef?void 0:null===(_childrenRef$current=childrenRef.current)||void 0===_childrenRef$current?void 0:_childrenRef$current.clientHeight)||0:(null==childrenRef?void 0:null===(_childrenRef$current2=childrenRef.current)||void 0===_childrenRef$current2?void 0:_childrenRef$current2.clientWidth)||0)),scrollRef.current.addEventListener("scroll",()=>{if(!scrollRef.current||!childrenRef.current)return;let scroll="vertical"===scrollAlign?scrollRef.current.scrollTop:scrollRef.current.scrollLeft;setIsPrevable(scroll>1),setIsNextable(scroll+("vertical"===scrollAlign?height:width)<("vertical"===scrollAlign?childrenRef.current.clientHeight:childrenRef.current.clientWidth)),!(scroll+("vertical"===scrollAlign?height:width)<("vertical"===scrollAlign?childrenRef.current.clientHeight:childrenRef.current.clientWidth))&&callback&&callback()}))},[H,W,children,childrenRef,height,px,scrollRef,rowsPerPage,children,scrollAlign,touchable,width]),children)?(0,jsx_runtime.jsxs)("div",{className:"relative ".concat(className),style:{paddingRight:("vertical"===scrollAlign?30*px:60*px)+"px"},children:[(0,jsx_runtime.jsx)("div",{className:"relative w-full \n            ".concat(touchable?"overflow-hidden":"overflow-auto","\n        "),ref:scrollRef,style:{height:height>0?height+"px":"auto",width:width>0?width+"px":"auto"},onTouchStart:e=>{touchable&&setTouchStart([e.touches[0].pageX-offset[0],e.touches[0].pageY-offset[1]])},onTouchMove:e=>{touchable&&setTouchEnd([e.touches[0].pageX-offset[0],e.touches[0].pageY-offset[1]])},onTouchCancel:e=>{touchable&&(setTouchStart(null),setTouchEnd(null))},onTouchEnd:e=>{if(!touchable||!touchStart||!touchEnd)return;let start="vertical"===scrollAlign?touchStart[1]:touchStart[2],end="vertical"===scrollAlign?touchEnd[1]:touchEnd[2];end>start&&end-start>20*px?movePage("prev"):end<start&&start-end>20*px&&movePage("next"),setTouchStart(null),setTouchEnd(null)},children:(0,jsx_runtime.jsx)("div",{ref:childrenRef,className:touchable?"absolute top-0 left-0 w-full":"",style:{top:touchable&&"vertical"===scrollAlign?-curentTop+"px":"auto",left:touchable&&"horizontal"===scrollAlign?-curentTop+"px":"auto"},children:children})}),(0,jsx_runtime.jsx)("button",{onClick:()=>movePage("prev"),className:"\n            absolute top-0 border-l border-lightgray bg-white flex justify-center items-center\n            ".concat("vertical"===scrollAlign?"h-1/2":"h-full border-b"," \n        "),style:{width:30*px+"px",right:("vertical"===scrollAlign?0:30)*px+"px"},children:(0,jsx_runtime.jsx)("span",{className:"bg-no-repeat bg-center bg-contain ".concat("vertical"===scrollAlign?"rotate-90":"","\n            ").concat(isPrevable?"opacity-100":"opacity-20","\n        "),style:{width:12.5*px+"px",height:13.5*px+"px",backgroundImage:"url(".concat(icon_arrow_l_namespaceObject,")")}})}),(0,jsx_runtime.jsx)("button",{onClick:()=>movePage("next"),className:"absolute bg-white right-0 border-l border-lightgray flex justify-center items-center\n            ".concat("vertical"===scrollAlign?"border-t top-1/2 h-1/2":"top-0 h-full border-b","\n        "),style:{width:30*px+"px"},children:(0,jsx_runtime.jsx)("span",{className:"bg-no-repeat bg-center bg-contain ".concat("vertical"===scrollAlign?"-rotate-90":"rotate-180","\n            ").concat(isNextable?"opacity-100":"opacity-20","\n        "),style:{width:12.5*px+"px",height:13.5*px+"px",backgroundImage:"url(".concat(icon_arrow_l_namespaceObject,")")}})})]}):(0,jsx_runtime.jsx)("div",{})}try{Pagable.displayName="Pagable",Pagable.__docgenInfo={description:"",displayName:"Pagable",props:{scrollAlign:{defaultValue:{value:"vertical"},description:"",name:"scrollAlign",required:!1,type:{name:"enum",value:[{value:'"vertical"'},{value:'"horizontal"'}]}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},touchable:{defaultValue:{value:"false"},description:"",name:"touchable",required:!1,type:{name:"boolean"}},rowsPerPage:{defaultValue:{value:"-1"},description:"",name:"rowsPerPage",required:!1,type:{name:"number"}},offset:{defaultValue:{value:"[0,0]"},description:"",name:"offset",required:!1,type:{name:"number[]"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},callback:{defaultValue:null,description:"",name:"callback",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Pagable/index.tsx#Pagable"]={docgenInfo:Pagable.__docgenInfo,name:"Pagable",path:"src/components/Pagable/index.tsx#Pagable"})}catch(__react_docgen_typescript_loader_error){}let Pagable_stories={title:"Components/Pagable",component:Pagable,parameters:{layout:"centered"},tags:["autodocs"],argTypes:{scrollAlign:{control:"radio",options:["vertical","horizontal"]},width:{control:"number"},height:{control:"number"},children:{control:"text"},touchable:{control:"boolean"},rowsPerPage:{control:"number"},offset:{control:"array"},className:{control:"text"},callback:{control:"function"}}},Example={args:{scrollAlign:"vertical",width:500,height:500,children:"Hello World!",touchable:!0,rowsPerPage:10,offset:[0,0],className:"relative",callback:()=>{}}};Example.parameters={...Example.parameters,docs:{...Example.parameters?.docs,source:{originalSource:"{\n  args: {\n    scrollAlign: 'vertical',\n    width: 500,\n    height: 500,\n    children: 'Hello World!',\n    touchable: true,\n    rowsPerPage: 10,\n    offset: [0, 0],\n    className: 'relative',\n    callback: () => {}\n  }\n}",...Example.parameters?.docs?.source}}};let __namedExportsOrder=["Example"]},"./node_modules/react/cjs/react-jsx-runtime.production.min.js":(__unused_webpack_module,exports,__webpack_require__)=>{/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=__webpack_require__("./node_modules/react/index.js"),k=Symbol.for("react.element"),m=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function q(c,a,g){var b,d={},e=null,h=null;for(b in void 0!==g&&(e=""+g),void 0!==a.key&&(e=""+a.key),void 0!==a.ref&&(h=a.ref),a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.jsx=q,exports.jsxs=q},"./node_modules/react/jsx-runtime.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/react/cjs/react-jsx-runtime.production.min.js")}}]);
//# sourceMappingURL=components-Pagable-Pagable-stories.966abc5b.iframe.bundle.js.map